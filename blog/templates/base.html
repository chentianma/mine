<!DOCTYPE html>
<html lang="zh-CN">
<head>
    {% block head %}
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        {% block title %}
        <title>ColdSunset</title>
        {% endblock %}
        <link rel="stylesheet" href="{{ url_for('static', filename='uikit/css/uikit.min.css') }}"/>
        <link rel="stylesheet" href="{{ url_for('static', filename='uikit/css/components/sticky.css') }}"/>
        <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='uikit/js/uikit.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='js/vue.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='uikit/js/components/lightbox.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='uikit/js/components/sticky.js') }}"></script>
        
        {{ moment.include_moment(local_js='/static/js/moment.min.js') }}
        {{ moment.lang("zh-CN") }}

        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    {% endblock %}
</head>

<body style="background-color: rgba(221, 221, 221, 0.96);">
<div class="uk-grid uk-grid-collapse">
    <div class="uk-width-medium-3-5 uk-container-center l_d_shadow">
        <figure class="uk-overlay uk-overlay-hover">
            <img class=" uk-overlay-scale"
                 src="{{ url_for('static', filename='img/top_image2-mini.png') }}"
                 width=""
                 height="" alt="">
            <figcaption class="uk-overlay-panel uk-overlay-bottom uk-ignore">
{#                <h1><a class="uk-h1 uk-text-contrast" href="{{ url_for('main.index') }}">Cold Sunset</a></h1>#}
                <a href="{{ url_for('main.index') }}">
                    <img class="uk-width-1-3" src="{{ url_for('static', filename='img/logo.png') }}"></a>
                <h3 class="uk-margin-top-remove">Personal blog for a new coder ...</h3>
            </figcaption>
        </figure>
    </div>


    <div class="uk-width-medium-3-5 uk-container-center l_d_shadow" style="background-color: rgba(255, 255, 255, 0.96); margin-top: 10px; margin-bottom: 20px">
        <nav class="uk-navbar" style="opacity: 0.8; padding: 6px; margin-bottom: 35px" data-uk-sticky>
            <div class="uk-navbar-flip">
                <ul class="uk-navbar-nav">
                    <li><a href="{{ url_for('main.index') }}" class="uk-text-danger">Home</a></li>
                    {% if current_user.is_authenticated %}
                        <li><a href="{{ url_for('main.cms') }}" class="uk-text-danger">CMS</a></li>
                    {% endif %}
                    <li><a href="{{ url_for('main.about') }}" class="uk-text-danger">About</a></li>
                    {% if current_user.is_authenticated %}
                        <li><a href="{{ url_for('auth.logout') }}" class="uk-text-muted">LogOut</a></li>
                    {% else %}
                        <li><a href="{{ url_for('auth.login') }}" class="uk-text-muted">LogIn</a></li>
                    {% endif %}
                </ul>
            </div>
        </nav>
        <div id="content_page">
            {% block board %}
                <div class="uk-grid uk-grid-divider">
                    <div class="uk-width-large-2-3 uk-width-medium-1-1">
                        {% block content %}
                        {% endblock %}
                    </div>
                    {% block sidebar %}
                        <div class="uk-width-large-1-3 uk-visible-large">
                            <div class="uk-grid uk-grid-collapse " data-uk-sticky="{top:100}">
                                <div class="uk-width-large-1-1 l_shadow  uk-border-rounded" style="opacity: 0.7" id="categoryTemp">
                                    <h3 class="uk-text-center uk-margin-top uk-text-large">文章分类
                                        {% if current_user.is_authenticated %}
                                            <a href="#setCategory" data-uk-modal><span
                                                    class="uk-icon-plus-square-o"></span></a>
                                        {% endif %}
                                    </h3>
                                    <hr>
                                    <div class="uk-grid uk-grid-collapse">
                                        <template v-model="categories" v-for="c in categories">
                                            <div class="uk-width-1-2 ">
                                                <a :href="c.articles"><p
                                                        class="cate_text uk-text-warning uk-text-center uk-text-bold"
                                                        v-text="c.name"></p></a>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endblock %}
                </div>
            {% endblock %}
        </div>
    </div>

</div>

{# 新增分类的模态框 #}
<div id="setCategory" class="uk-modal">
    <div class="uk-modal-dialog uk-border-rounded">
        <a class="uk-modal-close uk-close"></a>
        <div class="uk-grid uk-grid-collapse">
            <div class="uk-width-4-5 uk-container-center uk-margin-top uk-margin-bottom">
                <form class="uk-form" method="post" action="{{ url_for('api.set_category') }}">
                    <div class="uk-form-row  uk-border-rounded" data-uk-margin>
                        <label class="uk-form-label" for=""><p class="uk-text-muted">请输入新的文章分类</p></label>
                        <input type="text" name="newC" class="uk-width-1-1 uk-form-controls"
                               placeholder="New Category">
                        <div class="uk-grid">
                            <div class="uk-width-1-2 uk-container-center uk-margin-top">
                                <button type="submit"
                                        class="uk-width-1-1 uk-button uk-button-primary uk-border-rounded">添加
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% block scripts %}
    <script type="text/javascript" src="{{ url_for('static', filename='js/blog/base.js') }}"></script>
{% endblock %}

</body>
</html>