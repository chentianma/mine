{% extends 'base.html' %}
{% import "_pagination_macros.html" as macros %}

{% block head %}
    {{ super() }}
{% endblock %}


{% block content %}
    {% if blogs %}
        {% if blogs[0] %}
            <div class="uk-block-default uk-border-rounded l_d_shadow uk-hidden-small">
                <div class="uk-grid uk-grid-medium">
                    <div class="uk-width-medium-1-1 uk-border-rounded">
                        <figure class="uk-overlay uk-overlay-hover">
                            <img class=" uk-overlay-scale"
                                 src="{{ url_for('static', filename='img/top_image.png') }}"
                                 width=""
                                 height="" alt="">
                            <div class="uk-overlay-panel uk-overlay-slide-right">
                                <p class="uk-text-large">{{ blogs[0].title }}</p>
                                <p class="uk-h4"> {{ blogs[0].description }}</p>
                            </div>
                            <a class="uk-position-cover"
                               href="{{ url_for('main.single_blog', id=blogs[0].id) }} "></a>
                        </figure>
                    </div>
                </div>
            </div>
            <hr>
        {% endif %}


        {% for blog in blogs[1:] %}
            <div class="uk-grid">
                <div class="uk-width-medium-1-1 art_list">
                        <div class="uk-grid" style="padding: 0 10px 10px 20px">
                            <div class="uk-width-medium-3-4 uk-panel uk-margin-top">
                                <a href="{{ url_for('main.single_blog', id=blog.id) }}">
                                <h3 class="uk-text-success">{{ blog.title }}</h3>
                                    </a>
                                <div class="uk-grid">
                                    <div class="uk-width-1-2">
                                        <h5 class="uk-text-small">
                                            <span class="uk-text-bold uk-text-warning">发布时间：</span>{{ moment(blog.pub_date).fromNow(refresh=true) }}
                                        </h5>
                                    </div>
                                    <div class="uk-width-1-2">
                                        <h5 class="uk-text-small">
                                            <span class="uk-text-bold uk-text-warning">文章分类：</span>{{ categorys_dict[blog.category_id] }}
                                        </h5>
                                    </div>
                                </div>
                                <p class="uk-text-muted">{{ blog.description }}</p>
                            </div>
                            <div class="uk-width-medium-1-4" style="margin-top: 7%">
                                <a href="{{ url_for('main.single_blog', id=blog.id) }}">
                                    <span>
                                        <h5 class=" uk-text-success uk-text-center">继续阅读...</h5>
                                    </span>
                                </a>
                            </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    {% endif %}

    {% if pagination %}
        {{ macros.pagination_widget(pagination, 'main.index') }}
    {% endif %}
{% endblock %}

{% block sidebar %}
    {{ super() }}
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script>
        $('.art_list').mouseenter(function () {
                    $(this).animate(
                            {
                                marginLeft: '30px',
                                marginRight: '30px'
                            },
                            "1500"
                    )
                }
        );

        $('.art_list').mouseleave(function () {
                    $(this).animate(
                            {
                                marginLeft: '0px',
                                marginright: '0px'
                            },
                            "fast"
                    )
                }
        );
    </script>
{% endblock %}