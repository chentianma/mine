{% extends 'base.html' %}
{% import "_pagination_macros.html" as macros %}

{% block head %}
    {{ super() }}
{% endblock %}


{% block content %}
    {% if blogs %}
        {% if blogs[0] %}
            <div class="uk-block-default uk-border-rounded l_d_shadow">
                <div class="uk-grid uk-grid-small">
                    <div class="uk-width-1-1">
                        <figure class="uk-overlay uk-overlay-hover">
                            <img class="uk-border-rounded uk-overlay-scale"
                                 src="{{ url_for('static', filename='img/top_image1.png') }}"
                                 width=""
                                 height="" alt="">
                            <div class="uk-overlay-panel uk-overlay-slide-bottom">
                                <p class="uk-text-large">{{ blogs[0].title }}</p>
                                <p class="uk-h4"> {{ blogs[0].description }}</p>
                            </div>
                            <a class="uk-position-cover"
                               href="{{ url_for('main.single_blog', id=blogs[0].id) }} "></a>
                        </figure>
                    </div>
                </div>
            </div>
            <hr>
        {% endif %}


        {% for blog in blogs %}
            <div class="uk-grid">
                <div class="uk-width-medium-1-1">
                    <div class="l_d_shadow uk-border-rounded">
                        <div class="uk-grid" style="padding: 0 10px 10px 20px">
                            <div class="uk-width-medium-1-1 uk-panel uk-margin-top">
                                <a class="uk-panel-title " href="{{ url_for('main.single_blog', id=blog.id) }}">
                                    <h3 class="uk-text-success">{{ blog.title }}</h3>
                                </a>
                                <div class="uk-grid">
                                    <div class="uk-width-1-2">
                                        <h5 class="uk-text-small uk-text-left">
                                            <span class="uk-text-bold uk-text-warning">发布时间：</span>{{ moment(blog.pub_date).fromNow(refresh=true) }}
                                        </h5>
                                    </div>
                                    <div class="uk-width-1-2">
                                        <h5 class="uk-text-small uk-text-left">
                                            <span class="uk-text-bold uk-text-warning">文章分类：</span>{{ categorys_dict[blog.category_id] }}
                                        </h5>
                                    </div>
                                </div>
                                <p class="uk-text-muted">{{ blog.description }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    {% endif %}

    {% if pagination %}
        {{ macros.pagination_widget(pagination, 'main.index') }}
    {% endif %}
{% endblock %}

{% block sidebar %}
{% endblock %}
